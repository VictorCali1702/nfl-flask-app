{% extends "base.html" %}
{% block content %}
<div class="team-schedule">
	<h2>{{ team_name }} - Full Schedule</h2>

	<div class="team-navigation">
		<a href="{{ url_for('search_team') }}" class="btn-small">Back to Search</a>
		<a href="{{ url_for('scores') }}" class="btn-small">Live Scores</a>
	</div>

	<div class="season-stats">
		<div class="stat-card">
			<strong>Total Games</strong>
			<span>{{ total_games }}</span>
		</div>
		<div class="stat-card">
			<strong>Completed</strong>
			<span>{{ completed_games|length }}</span>
		</div>
		<div class="stat-card">
			<strong>Upcoming</strong>
			<span>{{ upcoming_games|length }}</span>
		</div>
	</div>

	<!-- COMPLETED GAMES -->
	<div class="matches-section">
		<h3>Completed Games ({{ completed_games|length }})</h3>
		{% if completed_games %}
		<table class="games-table">
			<tr>
				<th>Date</th>
				<th>Matchup</th>
				<th>Score</th>
				<th>Venue</th>
			</tr>
			{% for game in completed_games %}
			<tr>
				<td>{{ game.date }}</td>
				<td>
					{% if game.home_team == team_name %}
					<strong>{{ game.home_team }}</strong> vs {{ game.away_team }}
					{% else %}
					{{ game.home_team }} vs <strong>{{ game.away_team }}</strong>
					{% endif %} 
				</td>
				<td class="score">
					{{ game.home_score }} - {{ game.away_score }}
				</td>
				<td>{{ game.venue }}</td>
			</tr>
			{% endfor %}
		</table>
		{% else %}
		<p class="no-games">No completed games yet</p>
		{% endif %}
	</div>

	<!-- UPCOMING GAMES -->
	<div class="matches-section">
		<h3>Upcoming Games ({{ upcoming_games|length }})</h3>
		{% if upcoming_games %}
		<table class="games-table">
			<tr>
				<th>Date</th>
				<th>Matchup</th>
				<th>Time</th>
				<th>Venue</th>
			</tr>
			{% for game in upcoming_games %}
			<tr>
				<td>{{ game.date }}</td>
				<td>
					{% if game.home_team == team_name %}
					<strong>{{ game.home_team }}</strong> vs {{ game.away_team }}
					{% else %}
					{{ game.home_team }} vs <strong>{{ game.away_team }}</strong>
					{% endif %}
				</td>
				<td>{{ game.time }}</td>
				<td>{{ game.venue }}</td>
			</tr>
			{% endfor %}
		</table>
		{% else %}
		<p class="no-games">No upcoming games scheduled</p>
		{% endif %}
	</div>


</div>
{% endblock %}